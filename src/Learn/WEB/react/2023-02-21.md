---
# 这是文章的标题
title: 2023-02-21
# 这是页面的图标
icon: page
---



```ts
import moment from 'moment';

import  {useState} from 'react'

function Time (timestart: string) {

  const [now, setNow] = useState(Number)
  
  const timelive = () => {

    let timestartunix = moment(timestart);

    let timenow =  moment().format('YYYY-MM-DD HH:mm:ss') ;

    const live =(moment(timenow).diff(moment(timestartunix),'seconds' ));

    setNow(live);

  }

  setInterval(timelive, 1000);

  

  return (

    <div >

      直播时长:{Math.floor(now/3600) <= 9 ? "0" + Math.floor(now/3600) :Math.floor(now/3600)}小时{Math.floor((now/60)%60) <= 9 ? "0" + Math.floor((now/60)%60) : Math.floor((now/60)%60)}分钟{now%60 <= 9 ? "0" + now%60 : now%60}秒

    </div>

  )

}
```

```html
<div>
{Time(data.live_time)}
</div>
```